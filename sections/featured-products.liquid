{% comment %}
  Featured Products Section with Filters
{% endcomment %}

<section class="featured-products" style="background-color: #050505; padding: 100px 20px;">
  <div class="page-width">
    <div class="section-header" style="text-align: center; margin-bottom: 80px;">
      <h2 style="color: #D2D2D2; font-size: 48px; font-weight: 300; margin: 0 0 20px; text-transform: uppercase; letter-spacing: 3px;">
        FEATURED PRODUCTS
      </h2>
      <p style="color: #767676; font-size: 16px; margin: 0;">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
      </p>
    </div>

    <div class="product-filters" style="display: flex; justify-content: center; align-items: center; gap: 30px; margin-bottom: 60px; flex-wrap: wrap;">
      <button class="filter-btn active" data-filter="all" style="background: none; border: none; color: #D2D2D2; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; cursor: pointer; padding: 10px 0; border-bottom: 2px solid #D2D2D2; transition: all 0.3s;">
        All
      </button>
      <button class="filter-btn" data-filter="new-arrivals" style="background: none; border: none; color: #767676; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; cursor: pointer; padding: 10px 0; border-bottom: 2px solid transparent; transition: all 0.3s;">
        New Arrivals
      </button>
      <button class="filter-btn" data-filter="best-sellers" style="background: none; border: none; color: #767676; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; cursor: pointer; padding: 10px 0; border-bottom: 2px solid transparent; transition: all 0.3s;">
        Best Sellers
      </button>
      <select class="sort-select" style="background: rgba(255,255,255,0.05); border: 1px solid rgba(113,113,113,0.4); border-radius: 10px; color: #D2D2D2; padding: 10px 20px; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; cursor: pointer;">
        <option>Sort By</option>
        <option>Price: Low to High</option>
        <option>Price: High to Low</option>
        <option>Newest First</option>
      </select>
    </div>

    <div class="products-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 40px; max-width: 1400px; margin: 0 auto;">
      {% if section.settings.collection != blank %}
        {% for product in collections[section.settings.collection].products limit: section.settings.products_to_show %}
          <div class="product-card" style="text-align: center;">
            <a href="{{ product.url }}" style="text-decoration: none; color: inherit;">
              <div class="product-image" style="position: relative; margin-bottom: 20px; background: #141414; border-radius: 10px; aspect-ratio: 0.96; overflow: hidden;">
                {% if product.featured_image %}
                  <img src="{{ product.featured_image | img_url: '600x600' }}" 
                       alt="{{ product.title }}" 
                       style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s;">
                {% else %}
                  <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #767676;">
                    No Image
                  </div>
                {% endif %}
              </div>
              <h3 class="product-name" style="color: #D2D2D2; font-size: 14px; font-weight: 300; margin: 0 0 10px; text-transform: uppercase; letter-spacing: 1px;">
                {{ product.title }}
              </h3>
              <div class="product-price" style="color: #767676; font-size: 16px;">
                {% if product.compare_at_price > product.price %}
                  <span style="text-decoration: line-through; color: #767676; margin-right: 10px; opacity: 0.5;">
                    {{ product.compare_at_price | money }}
                  </span>
                {% endif %}
                <span>{{ product.price | money }}</span>
              </div>
            </a>
          </div>
        {% endfor %}
      {% else %}
        {% for i in (1..9) %}
          <div class="product-card" style="text-align: center;">
            <div class="product-image" style="position: relative; margin-bottom: 20px; background: #141414; border-radius: 10px; aspect-ratio: 0.96; overflow: hidden;">
              <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #767676;">
                Product {{ i }}
              </div>
            </div>
            <h3 class="product-name" style="color: #D2D2D2; font-size: 14px; font-weight: 300; margin: 0 0 10px; text-transform: uppercase; letter-spacing: 1px;">
              PRODUCT NAME
            </h3>
            <div class="product-price" style="color: #767676; font-size: 16px;">
              $200
            </div>
          </div>
        {% endfor %}
      {% endif %}
    </div>
  </div>
</section>

<style>
  .product-card:hover .product-image img {
    transform: scale(1.05);
  }
  .filter-btn:hover {
    color: #D2D2D2 !important;
    border-bottom-color: #D2D2D2 !important;
  }
</style>

{% schema %}
{
  "name": "Featured Products",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "label": "Products to show",
      "min": 3,
      "max": 12,
      "step": 3,
      "default": 9
    }
  ],
  "presets": [
    {
      "name": "Featured Products"
    }
  ]
}
{% endschema %}

