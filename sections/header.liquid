{% comment %}
  Header Section with Navigation and Video Support
{% endcomment %}

<header class="site-header" id="shopify-section-{{ section.id }}" style="background-color: #050505; padding: 20px 0; position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid rgba(125,125,125,0.5);">
  <div class="page-width">
    <div class="header-wrapper" style="display: flex; justify-content: space-between; align-items: center;">
      
      {% comment %} Logo {% endcomment %}
      <div class="header-logo">
        <a href="{{ routes.root_url }}" style="text-decoration: none; color: #D2D2D2;">
          <h1 style="margin: 0; font-size: 24px; font-weight: 300; text-transform: uppercase; letter-spacing: 3px;">
            DRK COLLECTION
          </h1>
        </a>
      </div>

      {% comment %} Navigation {% endcomment %}
      <nav class="header-nav" style="display: flex; align-items: center; gap: 40px;">
        <a href="{{ routes.root_url }}" style="color: #767676; text-decoration: none; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; transition: color 0.3s;">
          HOME
        </a>
        <a href="{{ routes.collections_url }}" style="color: #767676; text-decoration: none; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; transition: color 0.3s;">
          SHOP
        </a>
        <a href="{{ pages['about-us'].url | default: '/pages/about' }}" style="color: #767676; text-decoration: none; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; transition: color 0.3s;">
          ABOUT
        </a>
        <a href="{{ blogs['news'].url | default: '/blogs/news' }}" style="color: #767676; text-decoration: none; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; transition: color 0.3s;">
          BLOGS
        </a>
        <a href="{{ pages['contact'].url | default: '/pages/contact' }}" style="color: #767676; text-decoration: none; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; transition: color 0.3s;">
          CONTACT
        </a>
      </nav>

      {% comment %} Mobile Menu Toggle {% endcomment %}
      <button class="mobile-menu-toggle" style="display: none; background: none; border: none; color: #fff; cursor: pointer; padding: 5px;">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="6" x2="21" y2="6"/>
          <line x1="3" y1="12" x2="21" y2="12"/>
          <line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
      </button>

      {% comment %} Header Icons {% endcomment %}
      <div class="header-icons" style="display: flex; align-items: center; gap: 25px;">
        <a href="{{ routes.search_url }}" class="search-icon" style="color: #D2D2D2; text-decoration: none; display: flex; align-items: center; transition: color 0.3s;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
        </a>
        <a href="{{ routes.cart_url }}" class="cart-icon" style="color: #D2D2D2; text-decoration: none; display: flex; align-items: center; position: relative; transition: color 0.3s;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="9" cy="21" r="2.25"/>
            <circle cx="20" cy="21" r="2.25"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
          </svg>
          {% if cart.item_count > 0 %}
            <span class="cart-count" style="position: absolute; top: -8px; right: -8px; background: #fff; color: #0F0F0F; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: bold;">
              {{ cart.item_count }}
            </span>
          {% endif %}
        </a>
        <a href="{{ routes.account_login_url }}" class="account-icon" style="color: #D2D2D2; text-decoration: none; display: flex; align-items: center; transition: color 0.3s;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="7" r="3"/>
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          </svg>
        </a>
      </div>

    </div>
  </div>
</header>

{% comment %} Top Video Section (if enabled) {% endcomment %}
{% if section.settings.show_top_video and section.settings.top_video != blank %}
  <div class="top-video-section" style="width: 100%; position: relative; background: #050505;">
    <video 
      autoplay 
      muted 
      loop 
      playsinline
      style="width: 100%; height: auto; display: block;"
      {% if section.settings.video_poster != blank %}
        poster="{{ section.settings.video_poster | image_url: width: 1920 }}"
      {% endif %}>
      <source src="{{ section.settings.top_video }}" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    {% if section.settings.video_overlay_text != blank %}
      <div class="video-overlay" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #fff; z-index: 10;">
        <h2 style="font-size: 48px; font-weight: 300; text-transform: uppercase; letter-spacing: 4px; margin: 0;">
          {{ section.settings.video_overlay_text }}
        </h2>
      </div>
    {% endif %}
  </div>
{% endif %}

{% comment %} Mobile Menu Overlay {% endcomment %}
<div class="mobile-menu-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(5,5,5,0.95); z-index: 9999; padding: 80px 20px;">
  <button class="mobile-menu-close" style="position: absolute; top: 20px; right: 20px; background: none; border: none; color: #D2D2D2; font-size: 32px; cursor: pointer; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="18" y1="6" x2="6" y2="18"/>
      <line x1="6" y1="6" x2="18" y2="18"/>
    </svg>
  </button>
  <nav class="mobile-nav" style="display: flex; flex-direction: column; gap: 30px; align-items: center; justify-content: center; height: 100%;">
    <a href="{{ routes.root_url }}" style="color: #D2D2D2; text-decoration: none; font-size: 24px; text-transform: uppercase; letter-spacing: 2px; transition: color 0.3s;">
      HOME
    </a>
    <a href="{{ routes.collections_url }}" style="color: #D2D2D2; text-decoration: none; font-size: 24px; text-transform: uppercase; letter-spacing: 2px; transition: color 0.3s;">
      SHOP
    </a>
    <a href="{{ pages['about-us'].url | default: '/pages/about' }}" style="color: #D2D2D2; text-decoration: none; font-size: 24px; text-transform: uppercase; letter-spacing: 2px; transition: color 0.3s;">
      ABOUT
    </a>
    <a href="{{ blogs['news'].url | default: '/blogs/news' }}" style="color: #D2D2D2; text-decoration: none; font-size: 24px; text-transform: uppercase; letter-spacing: 2px; transition: color 0.3s;">
      BLOGS
    </a>
    <a href="{{ pages['contact'].url | default: '/pages/contact' }}" style="color: #D2D2D2; text-decoration: none; font-size: 24px; text-transform: uppercase; letter-spacing: 2px; transition: color 0.3s;">
      CONTACT
    </a>
  </nav>
</div>

<style>
  .site-header a:hover {
    color: #D2D2D2 !important;
  }
  
  .mobile-menu-overlay.active {
    display: block !important;
  }
  
  @media (max-width: 768px) {
    .header-nav {
      display: none !important;
    }
    .mobile-menu-toggle {
      display: block !important;
    }
    .header-wrapper {
      flex-wrap: wrap;
    }
  }
  
  @media (min-width: 769px) {
    .mobile-menu-overlay {
      display: none !important;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.querySelector('.mobile-menu-toggle');
    const menuOverlay = document.querySelector('.mobile-menu-overlay');
    const menuClose = document.querySelector('.mobile-menu-close');
    const mobileNavLinks = document.querySelectorAll('.mobile-nav a');
    
    if (menuToggle && menuOverlay) {
      menuToggle.addEventListener('click', function() {
        menuOverlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
      
      if (menuClose) {
        menuClose.addEventListener('click', function() {
          menuOverlay.classList.remove('active');
          document.body.style.overflow = '';
        });
      }
      
      mobileNavLinks.forEach(link => {
        link.addEventListener('click', function() {
          menuOverlay.classList.remove('active');
          document.body.style.overflow = '';
        });
      });
    }
  });
</script>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "header",
      "content": "Top Video Settings"
    },
    {
      "type": "checkbox",
      "id": "show_top_video",
      "label": "Show Top Video",
      "default": false
    },
    {
      "type": "video_url",
      "id": "top_video",
      "label": "Video URL",
      "accept": ["youtube", "vimeo"],
      "info": "Or upload a video file below"
    },
    {
      "type": "video",
      "id": "top_video_file",
      "label": "Video File"
    },
    {
      "type": "image_picker",
      "id": "video_poster",
      "label": "Video Poster Image"
    },
    {
      "type": "text",
      "id": "video_overlay_text",
      "label": "Video Overlay Text",
      "default": "THE DRK SIDE OF COOL"
    }
  ],
  "presets": [
    {
      "name": "Header"
    }
  ]
}
{% endschema %}

